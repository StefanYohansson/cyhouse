/*
 * Meteor Charts v0.6.0
 * http://www.meteorcharts.com
 * Created by Eric Rowell @ericdrowell
 * License http://www.meteorcharts.com/license
 * Date: 2014-07-04
 */
 ;var MeteorChart;!function(){MeteorChart=function(a){var b,c,d,e=this,f=a.container;for(this._id=MeteorChart.idCounter++,this.attrs={},this.container=MeteorChart.Util._isString(f)?document.getElementById(f):f,this.set("width",a.width),this.set("height",a.height),this.set("style",a.style),this.id=a.id,this.layout=MeteorChart.Layouts[a.layout],this.theme=MeteorChart.Themes[a.theme],this.slots={},this.components={},this.content=document.createElement("div"),this.content.className="meteorchart-content",this.content.style.position="relative",this.content.style.overflow="hidden",this.content.style.opacity=0,MeteorChart.DOM.addVendorStyle(this.content,"transition","opacity 0.3s ease-in-out"),this.container.appendChild(this.content),MeteorChart.DOM.dummy=MeteorChart.DOM.createElement("div"),MeteorChart.DOM.dummy.style.display="inline-block",MeteorChart.DOM.dummy.className="dom-dummy",this.content.appendChild(MeteorChart.DOM.dummy),c=0,b=a.components.length;b>c;c++)d=a.components[c],e._initComponent(MeteorChart.Util._extend(this.layout[d.slot],d));for(c=0,b=a.components.length;b>c;c++)e._addComponent(this.components[a.components[c].id]);this._bind(),MeteorChart.charts.push(this),setTimeout(function(){e._show()},50),e.render()},MeteorChart.prototype={defaults:{style:function(){return{padding:this.theme.padding}}},_show:function(){this.content.style.opacity=1},_initComponent:function(a){MeteorChart.log("init "+a.id),a.chart=this;var b=new MeteorChart.Components[a.type](a);this.components[a.id]=b,this.slots[a.slot]=b},_addComponent:function(a){a.init&&a.init(),MeteorChart.log("add "+a.id),this.content.appendChild(a.content)},_bind:function(){var a=this,b=this.content;b.addEventListener("mousemove",MeteorChart.Util._throttle(function(c){var d=MeteorChart.DOM.getElementPosition(b);a.fire("mousemove",{x:c.clientX-d.x,y:c.clientY-d.y})},17,{trailing:!1}),!1),b.addEventListener("mouseout",function(b){for(var c=b.toElement||b.relatedTarget;c;){if(c==this)return!1;c=c.parentNode}a.fire("mouseout")})},add:function(a){this._initComponent(a),this._addComponent(this.components.length-1)},destroy:function(){var a,b=this.components,c=b.length;for(a=0;c>a;a++)b[a].destroy();this.container.innerHTML=""},render:function(){MeteorChart.log("render chart");{var a,b=this.components;b.length}this.content.style.width=this.get("width")+"px",this.content.style.height=this.get("height")+"px",this.content.style.backgroundColor=this.theme.background;for(a in b)b[a].render()}},MeteorChart.version="0.6.0",MeteorChart.Components={},MeteorChart.Formatters={},MeteorChart.Layouts={},MeteorChart.Themes={},MeteorChart.charts=[],MeteorChart.debug=!1,MeteorChart.idCounter=0,MeteorChart.UA=function(a){var b=a.navigator&&a.navigator.userAgent||"",c=b.toLowerCase(),d=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],e=!!b.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);return{browser:d[1]||"",version:d[2]||"0",mobile:e}}(this),MeteorChart.log=function(a){this.debug&&console.log("-- "+a)}}(),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.returnExports=b()}(this,function(){return MeteorChart}),function(){var a=Array.prototype,b=a.slice,c=a.forEach;MeteorChart.Util={capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},replace:function(a,b){var c;for(c in b)a=a.replace("{"+c+"}",b[c]);return a},addMethod:function(a,b,c){a.prototype[b]=function(){var a;return arguments.length?(this.attrs[b]=arguments[0],this):(a=this.attrs[b],void 0===a?MeteorChart.Util._isFunction(c)?c.call(this):c:MeteorChart.Util._isFunction(a)?a.call(this):a)}},isEqual:function(a,b){var c,d=Object.prototype.toString.call(a);if("[object Object]"===d){for(var e in a)if(!this.isEqual(a[e],b[e]))return!1;return!0}if("[object Array]"===d){if(c=a.length,c>5){if(!this.isEqual(a[0],b[0]))return!1;if(!this.isEqual(a[c-1],b[c-1]))return!1}else for(var f=0;c>f;f++)if(!this.isEqual(a[f],b[f]))return!1;return!0}return a===b},squaredDistanceBetweenPoints:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},getLongerValue:function(a,b){return Math.max(Math.abs(a),Math.abs(b))},addCommas:function(a){a+="";for(var b=a.split("."),c=b[0],d=b.length>1?"."+b[1]:"",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return c+d},_getScale:function(a,b){return b||(b=1),b>0?a*b:a/(-1*b)},_isElement:function(a){return!(!a||1!=a.nodeType)},_isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},_isObject:function(a){return!!a&&a.constructor==Object},_isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},_isNumber:function(a){return"[object Number]"==Object.prototype.toString.call(a)},_isString:function(a){return"[object String]"==Object.prototype.toString.call(a)},_each:function(a,b,d){if(null==a)return a;if(c&&a.forEach===c)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===breaker)return}else for(var g=_.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===breaker)return;return a},_defaults:function(a){return this._each(b.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},_clone:function(a){return this._isObject(a)?this._isArray(a)?a.slice():this._extend({},a):a},_extend:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=c in a&&this._isObject(b[c])?this._extend(a[c],b[c]):b[c];return d},_throttle:function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:(new Date).getTime(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=(new Date).getTime();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}}}}(),function(){var a=["Webkit","Moz","MS","O"],b=a.length,c="px";MeteorChart.DOM={createElement:function(a){var b=document.createElement(a);return b.style.padding=0,b.style.margin=0,b},getNumber:function(a){return 1*a.replace(c,"")},getElementPosition:function(a){var b=a.getBoundingClientRect?a.getBoundingClientRect():{top:0,left:0};return{x:b.left,y:b.top}},addVendorStyle:function(c,d,e){var f;for(c.style[d]=e,f=0;b>f;f++)c.style[a[f]+MeteorChart.Util.capitalize(d)]=e},setBorderRadius:function(a,b){this.addVendorStyle(a,"borderRadius",b+"px")},setScale:function(a,b,c){this.addVendorStyle(a,"transform","scale("+b+","+c+")")},getElementWidth:function(a){var b=0;return this.dummy.innerHTML=a.innerHTML,b=this.dummy.offsetWidth,this.dummy.innerHTML="",b},getElementHeight:function(a){var b=0;return this.dummy.innerHTML=a.innerHTML,b=this.dummy.offsetHeight,this.dummy.innerHTML="",b},getTextWidth:function(a){var b=0;return this.dummy.innerHTML=a,b=this.dummy.offsetWidth,this.dummy.innerHTML="",b},getTextHeight:function(a){var b=0;return this.dummy.innerHTML=a,b=this.dummy.offsetHeight,this.dummy.innerHTML="",b},hasClass:function(a,b){return new RegExp(" "+b+" ").test(" "+elem.className+" ")},addClass:function(a,b){this.hasClass(a,b)||(elem.className+=" "+b)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}}(),function(){var a="http://www.w3.org/2000/svg";MeteorChart.SVG={createElement:function(b){return document.createElementNS(a,b)}}}(),function(){MeteorChart.Event={on:function(a,b){var c=a.event;this._events[c]||(this._events[c]=[]),this._events[c].push({type:a.type,id:a.id,handler:b})},fire:function(a){var b,c,d,d=a.event,e=a.type,f=a.id,g=MeteorChart.Event._events[d];if(g)for(b=g.length,c=0;b>c;c++)d=g[c],MeteorChart.Event._shouldExecuteHandler(d,e,f)&&d.handler(a)},map:function(a,b){var c,d,e=this,f={};for(MeteorChart.Util._isArray(a)||(a=[a]),c=0,d=a.length;d>c;c++)e.on(a[c],function(a){f=MeteorChart.Util.merge(f,a),MeteorChart.render()});return function(){return b(f)}},_shouldExecuteHandler:function(a,b,c){return a.type&&a.type!==b?!1:a.id&&a.id!==c?!1:!0},_events:{}}}(),function(){var a="px",b={id:1,type:1,chart:1,slot:1};MeteorChart.Component=function(a){var c;this._id=MeteorChart.idCounter++,this.attrs={},this.chart=a.chart,this.className=a.type,this.id=a.id,this.type=a.type;for(c in a)b[c]||this.set(c,a[c]);this.content=document.createElement("div"),this.content.className="component-content",this.content.setAttribute("data-component-type",this.type),this.content.setAttribute("data-component-id",this.id),this.content.style.display="inline-block",this.content.style.position="absolute"},MeteorChart.Component.prototype={defaults:{align:"left",style:{},visible:!0},render:function(){var b=this;this.get("visible")&&MeteorChart.Renderer.queue(this.chart._id+"-"+this._id,function(){MeteorChart.log("render "+b.id),b.content.style.width="auto",b.content.style.height="auto",b._render&&b._render(),b.content.style.textAlign=b.get("align"),b.content.style.left=b.get("x")+a,b.content.style.top=b.get("y")+a,b.content.style.width=b.get("width")+a,b.content.style.height=b.get("height")+a})},destroy:function(){},getDataColor:function(a){var b=this.chart.theme.data;return b[a%b.length]},hide:function(){this.content.style.opacity=0},_getScale:function(){var a=this.get("viewport"),b=this.get("width"),c=this.get("height"),d=a.maxX-a.minX,e=a.maxY-a.minY;return{x:b/d,y:c/e}}},MeteorChart.Component.extend=function(a,b){MeteorChart.Components[a]=function(a){MeteorChart.Component.call(this,a)},MeteorChart.Components[a].prototype=MeteorChart.Util._extend(b,MeteorChart.Component.prototype)}}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),function(){MeteorChart.Renderer={handlers:{},waiting:!1,queue:function(a,b){var c=this;this.handlers[a]=b,this.waiting||(setTimeout(function(){c.loop(),c.waiting=!1},10),this.waiting=!0)},loop:function(){var a,b,c,d=MeteorChart.Renderer,e=d.handlers,f=[];for(a in e)f.push({id:a,handler:e[a]});if(c=f.length,MeteorChart.batchRender&&c)f[0].handler(),delete d.handlers[f[0].id];else for(b=0;c>b;b++)f[b].handler(),delete d.handlers[f[b].id];c&&requestAnimFrame(d.loop)}}}(),function(){var a=["x","y","width","height","orientation","visible","style","data","viewport"];MeteorChart.Attrs={fire:function(a,b){MeteorChart.Event.fire.call(this,MeteorChart.Util._extend({event:a,type:this.type,id:this.id},b))},set:function(a,b){void 0!==b&&(this.attrs[a]=b)},get:function(a){var b,c=this.attrs[a],d=this.defaults[a];return void 0!==c&&null!==c||void 0===d||(c=d),b=MeteorChart.Util._isFunction(c)?c.call(this):c,MeteorChart.Util._isObject(b)&&(b=MeteorChart.Util._defaults(b,d)),("x"===a||"y"===a||"width"===a||"height"===a)&&(b=Math.round(b)),b}},function(){var b,c=a.length;for(b=0;c>b;b++)!function(a){MeteorChart.Attrs[a]=function(){return arguments.length?this.set.call(this,a,arguments[0]):this.get(a)}}(a[b])}(),MeteorChart.prototype=MeteorChart.Util._extend(MeteorChart.prototype,MeteorChart.Attrs),MeteorChart.Component.prototype=MeteorChart.Util._extend(MeteorChart.Component.prototype,MeteorChart.Attrs)}(),function(){MeteorChart.Component.extend("Lines",{defaults:{style:{lineWidth:2}},init:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.content.appendChild(this.canvas)},_render:function(){var a,b,c,d,e=this.data(),f=this.width(),g=this.height(),h=e.length,i=this.context,j=this.style(),k=this.chart.theme.padding,l=f+2*k,m=g+2*k,n=this._getScale(),o=n.x,p=n.y,q=this.viewport();for(i.clearRect(0,0,l,m),this.canvas.width=l,this.canvas.height=m,this.canvas.style.marginLeft="-"+k+"px",this.canvas.style.marginTop="-"+k+"px",i.save(),i.translate(k,k),a=0;h>a;a++){for(b=e[a].points,d=b.length,i.save(),i.translate(0,g),i.scale(o,-1*p),i.translate(-1*q.minX,-1*q.minY),i.beginPath(),i.moveTo(b[0],b[1]),c=2;d>c;c+=2)i.lineTo(b[c],b[c+1]);i.restore(),i.strokeStyle=this.getDataColor(a),i.lineWidth=j.lineWidth,i.stroke()}i.restore()},getTitles:function(){var a,b=[],c=this.data(),d=c.length;for(a=0;d>a;a++)b.push(c[a].title);return b}})}(),function(){var a="px";MeteorChart.Component.extend("Axis",{defaults:{width:function(){var a=0;return this._eachLabel(function(b,c){a=Math.max(a,MeteorChart.DOM.getTextWidth(c))}),a},height:function(){return this.chart.theme.fontSize},style:{padding:0}},init:function(){this.innerContent=MeteorChart.DOM.createElement("div"),this.innerContent.style.position="relative",this.content.appendChild(this.innerContent)},_render:function(){var a=this;this.innerContent.innerHTML="",this._eachLabel(function(b,c){a._addLabel(b,c)})},_eachLabel:function(a){var b,c,d,e=this.get("data"),f=e.length,g=this.get("style"),h=g.padding,i=g.formatter||MeteorChart.Formatters.String,j=h;for(b="vertical"===this.get("orientation")?(this.get("height")-2*h)/(f-1):(this.get("width")-2*h)/(f-1),c=0;f>c;c++)d=e[c],a(Math.floor(j),i.short(d)),j+=b},getLabelInfo:function(){var a={};return this._eachLabel(function(b,c){a[c]={offset:b}}),a},_getLabel:function(b){var c=this.chart.theme,d=MeteorChart.DOM.createElement("span");return d.innerHTML=b,d.style.position="absolute",d.style.fontSize=c.fontSize+a,d.style.fontFamily=c.fontFamily,d.style.color=c.primary,d},_addLabel:function(b,c){var d=this._getLabel(c);this.innerContent.appendChild(d),"vertical"===this.get("orientation")?(d.style.top=this.get("height")-b-MeteorChart.DOM.getTextHeight(c)/2+a,d.style.left=0+a):(d.style.top=0+a,d.style.left=b-MeteorChart.DOM.getTextWidth(c)/2+a)}})}(),function(){var a="px";MeteorChart.Component.extend("Title",{defaults:{height:function(){return 2*this.chart.theme.fontSize+this.chart.get("style").padding/2}},init:function(){this.text=MeteorChart.DOM.createElement("h2"),this.content.appendChild(this.text)},_render:function(){var b=this.chart.theme;this.text.style.fontSize=2*b.fontSize+a,this.text.style.fontFamily=b.fontFamily,this.text.style.color=b.primary,this.text.style.textAlign="center",this.text.innerHTML=this.get("data")}})}(),function(){var a="px";MeteorChart.Component.extend("Tooltip",{defaults:{width:function(){return this.tooltip.offsetWidth},height:function(){return this.tooltip.offsetHeight}},init:function(){this.content.style.pointerEvents="none",this.tooltip=MeteorChart.DOM.createElement("div"),this.tooltipTitle=MeteorChart.DOM.createElement("h2"),this.tooltipTitle.style.whiteSpace="nowrap",this.tooltipContent=MeteorChart.DOM.createElement("p"),this.tooltipContent.style.whiteSpace="nowrap",this.tooltip.appendChild(this.tooltipTitle),this.tooltip.appendChild(this.tooltipContent),this.content.appendChild(this.tooltip)},_render:function(){var b=this.get("data"),c=this.chart,d=this.get("style"),e=this.chart.theme;b&&b.title&&b.content?(this.tooltip.style.display="inline-block",this.tooltip.style.fontFamily=d.fontFamily||e.fontFamily,this.tooltip.style.color=d.fontColor||e.primary,this.tooltip.style.padding=c.padding(-1)+a,this.tooltip.style.border="2px solid "+(d.borderColor||e.secondary),this.tooltip.style.backgroundColor=d.backgroundColor||e.background,this.tooltipTitle.style.fontSize=this.fontSize(0)+a,this.tooltipTitle.innerHTML=b.title,this.tooltipContent.style.fontSize=this.fontSize(0)+a,this.tooltipContent.style.marginTop=5+a,this.tooltipContent.innerHTML=b.content):this.tooltip.style.display="none"}})}(),function(){MeteorChart.Component.extend("GridLines",{defaults:{style:{lineWidth:2}},init:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.content.appendChild(this.canvas)},_render:function(){var a,b,c=this.chart.theme,d=(c.font,this.get("orientation")||"horizontal"),e=this.get("data"),f=this.get("style").lineWidth,g=this.context,h=this.get("width"),i=this.get("height"),j=c.padding,k=h+2*j,l=i+2*j;if(e){this.canvas.width=k,this.canvas.height=l,this.canvas.style.marginLeft="-"+j+"px",this.canvas.style.marginTop="-"+j+"px",g.save(),g.translate(j,j),g.clearRect(0,0,h,i),g.strokeStyle=this.chart.theme.secondary,g.lineWidth=f,g.lineCap="round";for(a in e)b=e[a].offset,g.beginPath(),"horizontal"===d?(g.moveTo(0,b),g.lineTo(h,b),g.stroke()):(g.moveTo(b,0),g.lineTo(b,i),g.stroke());g.restore()}}})}(),function(){var a="px";MeteorChart.Component.extend("Slider",{defaults:{offset:0,value:0,width:function(){return this.get("style").handleWidth},height:function(){return this.get("style").handleHeight}},init:function(){var a=this.get("style").showTrack;void 0===a&&(a=!0),a&&(this.track=MeteorChart.DOM.createElement("div"),this.track.style.position="absolute",this.content.appendChild(this.track)),this.handle=MeteorChart.DOM.createElement("span"),this.handle.style.display="inline-block",this.handle.style.position="absolute",this.content.appendChild(this.handle),this._bind()},_render:function(){var b=this.handle,c=this.track,d=this.get("style"),e=this.chart.theme,f=d.handleWidth,g=d.handleHeight,h=2,i=d.showTrack;void 0===i&&(i=!0),b.style.width=f+a,b.style.height=g+a,b.style.backgroundColor=d.handleFill||e.primary,MeteorChart.DOM.setBorderRadius(b,Math.min(f,g)/2),i&&(c.style.backgroundColor=e.secondary,.1),"vertical"===this.get("orientation")?(b.style.top=this.get("height")-g+a,b.style.left=0+a,i&&(this.track.style.width=h+a,this.track.style.height=this.get("height")+a,this.track.style.left=(this.get("width")-h)/2+a)):(b.style.top=0+a,b.style.left=0+a,i&&(this.track.style.width=this.get("width")+a,this.track.style.height=h+a,this.track.style.top=(this.get("height")-h)/2+a))},getValue:function(){return this.value},getOffset:function(){return this.offset},_bind:function(){var b=this,c=this.handle,d=(this.chart.content,this.get("orientation")||"horizontal"),e=this.get("style"),f=e.handleWidth,g=e.handleHeight,h=null,i=null;c.addEventListener("mousedown",function(a){a.preventDefault(),"horizontal"===d?(h=MeteorChart.DOM.getNumber(c.style.left),i=a.clientX):(h=MeteorChart.DOM.getNumber(c.style.top),i=a.clientY),b.fire("dragstart")}),document.body.addEventListener("mousemove",MeteorChart.Util._throttle(function(e){var j,k,l;null!==h&&("horizontal"===d?(j=b.get("width")-b.get("style").handleWidth,pointerPos=e.clientX,k=pointerPos-i+h,0>k?k=0:k>j&&(k=j),c.style.left=k+a):(j=b.get("height")-b.get("style").handleHeight,pointerPos=e.clientY,k=pointerPos-i+h,0>k?k=0:k>j&&(k=j),c.style.top=k+a),l=k/("horizontal"===d?b.get("width")-f:b.get("height")-g),b.set("offset",k),b.set("value",l),b.fire("dragmove",{offset:k,value:l}))},17)),document.body.addEventListener("mouseup",function(){null!==h&&(h=null,i=null,b.fire("dragend",{offset:b.get("offset"),value:b.get("value")}))}),c.addEventListener("mouseover",function(){c.style.cursor="pointer"}),c.addEventListener("mouseout",function(){c.style.cursor="default"})}})}(),function(){var a="px";MeteorChart.Component.extend("Legend",{defaults:{width:function(){return MeteorChart.DOM.getElementWidth(this.list)},height:function(){return MeteorChart.DOM.getElementHeight(this.list)},orientation:"horizontal"},init:function(){this.list=MeteorChart.DOM.createElement("ol"),this.content.appendChild(this.list)},_render:function(){var a,b=this.chart,c=(b.theme,this.get("data")),d=c.length;for(this.list.innerHTML="",a=0;d>a;a++)title=c[a],this._addItem(this.getDataColor(a),title,a===d-1)},_addItem:function(b,c,d){var e=this.chart,f=e.theme,g=(this.get("style"),this.chart.theme.fontSize+a),h=this.get("orientation"),i=MeteorChart.DOM.createElement("li"),j=MeteorChart.DOM.createElement("span"),k=MeteorChart.DOM.createElement("span");"horizontal"===h?(i.style.display="inline-block",d||(i.style.marginRight=10+a)):(i.style.display="block",i.style.marginBottom=10+a),j.style.backgroundColor=b,j.style.width=g,j.style.height=g,j.style.display="inline-block",j.style.verticalAlign="top",k.innerHTML=c,k.style.display="inline-block",k.style.fontSize=g,k.style.fontFamily=f.fontFamily,k.style.color=f.primary,k.style.verticalAlign="top",k.style.marginLeft=5+a,i.appendChild(j),i.appendChild(k),this.list.appendChild(i)}})}(),function(){MeteorChart.Component.extend("Bars",{defaults:{style:{barWidth:20},orientation:"vertical"},init:function(){},_render:function(){var a,b,c,d,e,f,g,h,i=this.get("data"),j=(this.chart.theme,i.length),k=0,l=this.get("style"),m=Math.round(l.barWidth),d=i[0].bars.length,n=this.get("viewport"),o=n.max-n.min;for(this.content.innerHTML="","vertical"===this.get("orientation")&&(f=Math.round((this.get("width")-m*d)/(j-1))),a=0;j>a;a++){for(b=i[a],c=b.bars,d=c.length,e=0;d>e;e++)bar=c[e],g=m*e,h=this.get("height")*bar.value/o,this._addBar(k+g,m,h,this.getDataColor(e));k+=f}},_addBar:function(a,b,c,d){{var c,e=MeteorChart.DOM.createElement("div");this.get("style")}"vertical"===this.get("orientation")&&(e.style.bottom="0",e.style.left=a+"px",e.style.width=b+"px",e.style.height=Math.floor(c)+"px"),e.style.backgroundColor=d,e.style.position="absolute",this.content.appendChild(e)},getTitles:function(){var a,b=[],c=this.data(),d=c[0].bars,e=d.length;for(a=0;e>a;a++)b.push(d[a].title);return b}})}(),function(){MeteorChart.Component.extend("Scatter",{defaults:{style:{shape:"circle",filled:!0,size:10,lineWidth:2}},init:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.content.appendChild(this.canvas)},_render:function(){var a,b,c,d,e,f=this.data(),g=f.length,h=this.context,i=(this.style(),this.chart.theme.padding),j=this.width(),k=this.height(),l=this._getScale(),m=(l.x,l.y,this.viewport(),j+2*i),n=k+2*i;for(h.clearRect(0,0,m,n),this.canvas.width=m,this.canvas.height=n,this.canvas.style.marginLeft="-"+i+"px",this.canvas.style.marginTop="-"+i+"px",h.save(),h.translate(i,i),a=0;g>a;a++)for(b=f[a].points,d=b.length,e=this.getDataColor(a),c=0;d>c;c+=2)this._renderNode(b[c],b[c+1],e);h.restore()},_renderNode:function(a,b,c){var d=this.context,e=this.style(),f=e.shape,g=e.filled,h=e.lineWidth,i=e.size,j=this.chart.theme.background;width=this.width(),height=this.height(),scale=this._getScale(),scaleX=scale.x,scaleY=scale.y,viewport=this.viewport(),_x=(a-viewport.minX)*scaleX,_y=(b-viewport.minY)*scaleY,d.save(),d.translate(0,height),d.scale(1,-1),d.beginPath(),"circle"===f&&(d.arc(_x,_y,i/2,0,2*Math.PI,!1),g?(d.fillStyle=c,d.fill()):(d.strokeStyle=c,d.fillStyle=j,d.lineWidth=h,d.fill(),d.stroke())),d.restore()},getTitles:function(){var a,b=[],c=this.data(),d=c.length;for(a=0;d>a;a++)b.push(c[a].title);return b}})}(),function(){var a="#FEFFFF",b="#3C3F36",c="#9FB03E",d="#72918B",e="#CECFCD";MeteorChart.Themes.BeachsideShopping={background:a,primary:b,secondary:e,fontFamily:"Arial",fontSize:12,padding:20,data:[c,d]}}(),function(){var a="#1C1919",b="#EEEEEE",c="#403D3C",d="#EB5937",e="#456F74",f="#D3CBBD";MeteorChart.Themes.BlackMath={background:a,primary:b,secondary:c,fontFamily:"Arial",fontSize:12,padding:20,data:[d,e,f]}}(),function(){var a="#B9121B",b="#4C1B1B",c="#DEC49E",d="#FCFAE1",e="#BD8D46";MeteorChart.Themes.CherryCheescake={background:d,primary:b,secondary:c,fontFamily:"Arial",fontSize:12,padding:20,data:[a,e]}}(),function(){var a="#FF3800",b="#009393",c="#FFFFFC",d="#CBDED1",e="#00585F";MeteorChart.Themes.CoteAzur={background:c,primary:e,secondary:d,fontFamily:"Arial",fontSize:12,padding:20,data:[a,b]}}(),function(){var a="#3D4C53",b="#CFD2D4",c="#70B7BA",d="#F1433F",e="#FFFFFF";MeteorChart.Themes.Dribble={background:e,primary:a,secondary:b,fontFamily:"Arial",fontSize:12,padding:20,data:[d,c]}}(),function(){var a="#8E2800",b="#468966",c="#FFF0A5",d="#FFB03B",e="#AC5A28";MeteorChart.Themes.Firenze={background:a,primary:c,secondary:e,fontFamily:"Arial",fontSize:12,padding:20,data:[d,b]}}(),function(){var a="#AB1A25",b="#D97925",c="#002635",d="#EFE7BE",e="#3C5657";MeteorChart.Themes.Lollapalooza={background:c,primary:d,secondary:e,fontFamily:"Arial",fontSize:12,padding:20,data:[a,b]}}(),function(){var a="#111111",b="#CCCCCC",c="#555555",d="#FF358B",e="#01B0F0",f="#AEEE00";MeteorChart.Themes.OddEnd={background:a,primary:b,secondary:c,fontFamily:"Arial",fontSize:12,padding:20,data:[f,e,d]}}(),function(){MeteorChart.Layouts.L1_A=[{x:function(){return this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},width:function(){return this.chart.get("width")-2*this.chart.get("style").padding},height:function(){return this.chart.get("height")-2*this.chart.get("style").padding}}]}(),function(){MeteorChart.Layouts.L3_A=[{orientation:"vertical",x:function(){return this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},height:function(){return this.chart.slots[1].get("height")}},{x:function(){return this.chart.slots[0].get("width")+2*this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},width:function(){return this.chart.get("width")-this.chart.slots[0].get("width")-3*this.chart.get("style").padding},height:function(){var a=this.chart.slots;return this.chart.get("height")-3*this.chart.get("style").padding-a[2].get("height")}},{orienation:"horizontal",x:function(){return this.chart.slots[1].get("x")},y:function(){var a=this.chart.slots;return a[1].get("y")+a[1].get("height")+this.chart.get("style").padding},width:function(){return this.chart.slots[1].get("width")}}]}(),function(){MeteorChart.Layouts.L4_A=[{orientation:"horizontal",x:function(){return this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},width:function(){return this.chart.get("width")-2*this.chart.get("style").padding}},{orientation:"vertical",x:function(){return this.chart.get("style").padding},y:function(){var a=this.chart;return a.slots[0].get("height")+2*a.get("style").padding},height:function(){return this.chart.slots[2].get("height")}},{x:function(){var a=this.chart;return a.slots[1].get("width")+2*a.get("style").padding},y:function(){var a=this.chart;return a.slots[0].get("height")+2*a.get("style").padding},width:function(){var a=this.chart;return a.get("width")-a.slots[1].get("width")-3*a.get("style").padding},height:function(){var a=this.chart,b=a.slots;return a.get("height")-4*a.get("style").padding-b[3].get("height")-b[0].get("height")}},{orientation:"horizontal",x:function(){return this.chart.slots[2].get("x")},y:function(){var a=this.chart.slots;return a[2].get("y")+a[2].get("height")+this.chart.get("style").padding},width:function(){return this.chart.slots[2].get("width")}}]}(),function(){MeteorChart.Layouts.L4_B=[{orientation:"vertical",x:function(){return this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},height:function(){return this.chart.slots[1].get("height")}},{x:function(){var a=this.chart;return a.slots[0].get("width")+2*a.get("style").padding},y:function(){return this.chart.get("style").padding},width:function(){var a=this.chart;return a.get("width")-a.slots[0].get("width")-a.slots[3].get("width")-4*a.get("style").padding},height:function(){var a=this.chart,b=a.slots;return a.get("height")-3*a.get("style").padding-b[2].get("height")}},{orientation:"horizontal",x:function(){return this.chart.slots[1].get("x")},y:function(){this.chart.slots;return this.chart.get("height")-this.get("height")-this.chart.get("style").padding},width:function(){return this.chart.slots[1].get("width")}},{orientation:"vertical",x:function(){this.chart.slots;return this.chart.get("width")-this.get("width")-this.chart.get("style").padding},y:function(){return this.chart.get("style").padding},height:function(){return this.chart.get("height")-2*this.chart.get("style").padding}}]}(),function(){MeteorChart.Layouts.L4_C=[{orientation:"vertical",x:function(){return this.chart.get("style").padding},y:function(){var a=this.chart;return a.get("style").padding},height:function(){return this.chart.slots[1].get("height")}},{x:function(){var a=this.chart;return a.slots[0].get("width")+2*a.get("style").padding},y:function(){var a=this.chart;return a.get("style").padding},width:function(){var a=this.chart;return a.get("width")-a.slots[0].get("width")-3*a.get("style").padding},height:function(){var a=this.chart,b=a.slots;return a.get("height")-4*a.get("style").padding-b[2].get("height")-b[3].get("height")}},{orientation:"horizontal",x:function(){return this.chart.slots[1].get("x")},y:function(){var a=this.chart.slots;return a[1].get("y")+a[1].get("height")+this.chart.get("style").padding},width:function(){return this.chart.slots[1].get("width")}},{orientation:"horizontal",x:function(){return this.chart.get("style").padding},y:function(){var a=this.chart.slots;return a[2].get("y")+a[2].get("height")+this.chart.get("style").padding},width:function(){return this.chart.get("width")-2*this.chart.get("style").padding}}]}(),function(){var a=3600,b=86400,c=2628e3,d=315e5;MeteorChart.Formatters.Date={"short":function(e,f,g){var h=g-f,i=new moment(1e3*e);return i.format(a>h?"h:mma":b>h?"ddd ha":c>h?"MMM D":d>h?"MMM YYYY":"YYYY")},"long":function(a){var b=b=new moment(1e3*a);return b.format("MMM D YYYY h:mma")}}}(),function(){MeteorChart.Formatters.Number={"short":function(a,b,c){var d=MeteorChart.Util.getLongerValue(b,c);return 10>d?Math.round(a):1e3>d?Math.round(10*a)/10:1e6>d?Math.round(a/1e3*10)/10+"k":1e9>d?Math.round(a/1e6*10)/10+"M":Math.round(a/1e9*10)/10+"B"},"long":function(a){return MeteorChart.Util.addCommas(a)}}}(),function(){MeteorChart.Formatters.String={"short":function(a){return a},"long":function(a){return a}}}();